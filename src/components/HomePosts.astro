---
import Post from "../components/Post.astro";

const { allPosts } = Astro.props;

let posts = allPosts
    .sort(
        (a, b) =>
            new Date(b.frontmatter.updated || b.frontmatter.added).valueOf() -
            new Date(a.frontmatter.updated || a.frontmatter.added).valueOf(),
    )
    .slice(0, 5);
---

<content>
    <ul class="posts-list">
        {
            posts.map(
                ({
                    url,
                    frontmatter: { description, title, tags, added: date },
                }) => <Post {url} {description} {date} {title} {tags} />,
            )
        }
    </ul>
</content>
